// h(1) = 1, h(2) = 7, h(3) = 19, h(4) = 37
// 求h(99), 再求h(1) + h(2) + ... + h(99)

let h = (n) => {
    let sum = (n - 1) * (n + 2*n -2) + 2*n -1;
    // 3*n*n - 3*n -2*n + 2 + 2*n -1
    // 3*n*n -3*n + 1
    // 3*n*(n-1) + 1
    console.log(3*n*(n-1) + 1);
    return sum;
}
h(1);
h(2);
h(3);
h(4);

h(99);

let hx = (n) => {
    // h(1) + h(2) + ... + h(n)
    // (3*n*(n-1) + 1) + (3*(n-1)*(n-2) + 1) + ... (3*1*(1-1) + 1)
    // 3*( n*(n-1) + (n-1)*(n-2) + ... 1*(1-1) ) + n
    // 下面的3*()内的 n 相当于 n-1
    // 3*( (2*n + 2*(n-1) + ... 2*1) + (2*(n-1) + 2*(n-2) + ... + 2*1) + .... + (2*1)  ) + n
    // 3*( (n*n + n) + ((n-1)*(n-1) + (n-1)) +...+ (1*1 + 1) ) + n
    // 3*((n*n + (n-1)*(n-1) +...+ 1*1) + (n + (n-1) +...+ 1)) + n
    // 查公式可知 1²+2²+3²+……+n²=n(n+1)(2n+1)/6
    // 3*( (n*(n+1)*(2*n+1)/6) + (n+1)*n/2 ) + n
    // 套用公式的时候3*()内的 n 替换成 n-1
    let sum = 3*( ((n-1)*(n)*(2*(n-1)+1)/6) + (n)*(n-1)/2 ) + n;
    console.log(3*( ((n-1)*(n)*(2*(n-1)+1)/6) + (n)*(n-1)/2 ) + n);
    return sum;
}
hx(1);
hx(2);
hx(3);
hx(4);

hx(99);
